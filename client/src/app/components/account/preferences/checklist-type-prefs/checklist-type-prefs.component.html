<h4 class="mt-3">Table Visibility</h4>
<div *ngIf="checklistTypes && checklistTypes.length > 1 && form">
  <form class="mt-3 ml-5" [formGroup]="form">
    <div *ngFor="let ct of items">
      <div class="form-check mb-2">
        <input
          class="form-check-input"
          type="checkbox"
          [id]="ct.key"
          [formControlName]="ct.key" />
        <label class="form-check-label" [for]="ct.key">{{ ct.label }} </label>
      </div>
    </div>

    <div *ngFor="let header of headers" class="mb-2">
      <div class="form-check mb-2">
        <input
          class="form-check-input"
          type="checkbox"
          [id]="header.key"
          (change)="onHeaderChange($event)"
          [formControlName]="header.key" />
        <label class="form-check-label" [for]="header.key"
          >{{ header.label }}
        </label>
      </div>
      <div *ngFor="let subItem of getSubItems(header.key)">
        <div class="form-check mb-2 ml-5">
          <input
            class="form-check-input"
            type="checkbox"
            [id]="subItem.key"
            (change)="onSubItemChange($event, header.key)"
            [formControlName]="subItem.key" />
          <label class="form-check-label" [for]="subItem.key"
            >{{ subItem.label }}
          </label>
        </div>
      </div>
    </div>
    <div class="form-row mt-3 mb-3">
      <button
        class="btn btn-success"
        type="submit"
        (click)="submitForm()"
        [disabled]="!changeMade">
        Save
      </button>
      <button
        class="btn btn-danger ml-2"
        type="submit"
        (click)="cancelForm()"
        [disabled]="!changeMade">
        Cancel
      </button>
    </div>
  </form>
</div>
